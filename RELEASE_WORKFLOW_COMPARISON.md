# å‘å¸ƒæµç¨‹å¯¹æ¯”ï¼šChangesets vs Release PR

OrvalForge ç°åœ¨æ”¯æŒä¸¤ç§å‘å¸ƒæµç¨‹ï¼Œä½ å¯ä»¥æ ¹æ®å›¢é˜Ÿéœ€æ±‚é€‰æ‹©ã€‚

## ğŸ†š ä¸¤ç§æ–¹å¼å¯¹æ¯”

### æ–¹å¼ä¸€ï¼šRelease PRï¼ˆå½“å‰æ¨èï¼Œä¸ Orval ç›¸åŒï¼‰

**æ–‡ä»¶**: [RELEASE_GUIDE.md](./RELEASE_GUIDE.md)

#### âœ… ä¼˜ç‚¹

- **æ¸…æ™°ç›´è§‚**: ä¸€ä¸ª PR ä»£è¡¨ä¸€æ¬¡å‘å¸ƒ
- **æ˜“äº Review**: æ‰€æœ‰ç‰ˆæœ¬æ›´æ”¹é›†ä¸­åœ¨ä¸€ä¸ª PR ä¸­
- **ç²¾ç¡®æ§åˆ¶**: æ‰‹åŠ¨é€‰æ‹©å‘å¸ƒæ—¶æœº
- **ç®€å•æ˜äº†**: åˆå¹¶ PR = å‘å¸ƒ
- **æ— ä¸­é—´çŠ¶æ€**: ä¸éœ€è¦ç´¯ç§¯ changesets

#### âŒ ç¼ºç‚¹

- **æ‰‹åŠ¨åˆ›å»º**: éœ€è¦è¿è¡Œè„šæœ¬åˆ›å»º release
- **ç‰ˆæœ¬ç»Ÿä¸€**: æ‰€æœ‰åŒ…ä½¿ç”¨ç›¸åŒç‰ˆæœ¬å·

#### ğŸ”„ æµç¨‹

```
å¼€å‘ â†’ åˆ›å»º Release PR â†’ Review â†’ åˆå¹¶ â†’ è‡ªåŠ¨å‘å¸ƒ
```

#### ğŸ“ ç¤ºä¾‹

```bash
# 1. å¼€å‘å®Œæˆ
git commit -m "feat: new feature"
git push

# 2. åˆ›å»º release
./scripts/create-release.sh
# é€‰æ‹©ç‰ˆæœ¬ç±»å‹ï¼šminor
# ç‰ˆæœ¬æ›´æ–°ï¼š1.0.0 â†’ 1.1.0

# 3. åœ¨ GitHub åˆ›å»º PR
# From: release/v1.1.0
# To: main

# 4. åˆå¹¶ PR â†’ è‡ªåŠ¨å‘å¸ƒ
```

---

### æ–¹å¼äºŒï¼šChangesetsï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰

**æ–‡ä»¶**: [PUBLISHING.md](./PUBLISHING.md), [QUICK_PUBLISH.md](./QUICK_PUBLISH.md)

#### âœ… ä¼˜ç‚¹

- **çµæ´»ç‰ˆæœ¬**: æ¯ä¸ªåŒ…å¯ä»¥ç‹¬ç«‹ç‰ˆæœ¬
- **è‡ªåŠ¨åŒ–é«˜**: è‡ªåŠ¨å¤„ç†ä¾èµ–å…³ç³»
- **å¢é‡å‘å¸ƒ**: åªå‘å¸ƒæœ‰æ›´æ”¹çš„åŒ…
- **CHANGELOG è‡ªåŠ¨**: æ ¹æ® changesets è‡ªåŠ¨ç”Ÿæˆ

#### âŒ ç¼ºç‚¹

- **å­¦ä¹ æ›²çº¿**: éœ€è¦ç†è§£ changeset æ¦‚å¿µ
- **ä¸­é—´çŠ¶æ€**: éœ€è¦ç´¯ç§¯ changesets
- **å¤æ‚æ€§é«˜**: å¯¹äºç®€å•é¡¹ç›®å¯èƒ½è¿‡åº¦

#### ğŸ”„ æµç¨‹

```
å¼€å‘ â†’ åˆ›å»º Changeset â†’ ç´¯ç§¯ â†’ ç‰ˆæœ¬æ›´æ–° â†’ å‘å¸ƒ
```

#### ğŸ“ ç¤ºä¾‹

```bash
# 1. åŠŸèƒ½ A å®Œæˆ
git commit -m "feat: feature A"
pnpm changeset
# é€‰æ‹©åŒ…ã€ç‰ˆæœ¬ç±»å‹ã€æè¿°

# 2. åŠŸèƒ½ B å®Œæˆ
git commit -m "feat: feature B"
pnpm changeset

# 3. ç´¯ç§¯å¤šä¸ª changesets å
pnpm changeset version
# è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬ã€ç”Ÿæˆ CHANGELOG

# 4. æäº¤å¹¶æ¨é€
git commit -m "chore: release"
git push

# 5. å‘å¸ƒ
pnpm changeset publish
```

---

## ğŸ“Š è¯¦ç»†å¯¹æ¯”è¡¨

| ç‰¹æ€§ | Release PR | Changesets |
|------|------------|------------|
| **å­¦ä¹ æ›²çº¿** | ç®€å• | ä¸­ç­‰ |
| **ç‰ˆæœ¬ç®¡ç†** | ç»Ÿä¸€ç‰ˆæœ¬ | ç‹¬ç«‹ç‰ˆæœ¬ |
| **å‘å¸ƒè§¦å‘** | åˆå¹¶ PR | æ‰‹åŠ¨æˆ– CI |
| **CHANGELOG** | æ‰‹åŠ¨ç¼–å†™ | è‡ªåŠ¨ç”Ÿæˆ |
| **ä¾èµ–å¤„ç†** | æ‰‹åŠ¨ | è‡ªåŠ¨ |
| **é€‚ç”¨åœºæ™¯** | æ‰€æœ‰åŒ…åŒæ­¥å‘å¸ƒ | åŒ…ç‹¬ç«‹å‘å¸ƒ |
| **å›æ»šéš¾åº¦** | ç®€å•ï¼ˆé‡æ–°å‘å¸ƒï¼‰ | ä¸­ç­‰ |
| **å›¢é˜Ÿåä½œ** | æ¸…æ™°ï¼ˆä¸€ä¸ª PRï¼‰ | å¤æ‚ï¼ˆå¤šä¸ª changesetï¼‰ |
| **CI/CD** | ç®€å• | å¤æ‚ |

## ğŸ¯ æ¨èåœºæ™¯

### ä½¿ç”¨ Release PRï¼ˆæ¨èï¼‰

é€‚åˆä»¥ä¸‹æƒ…å†µï¼š
- âœ… æ‰€æœ‰åŒ…ç‰ˆæœ¬ä¿æŒä¸€è‡´
- âœ… å›¢é˜Ÿå¯¹ changeset ä¸ç†Ÿæ‚‰
- âœ… æƒ³è¦ç®€å•æ¸…æ™°çš„å‘å¸ƒæµç¨‹
- âœ… å‘å¸ƒé¢‘ç‡ä¸é«˜ï¼ˆæ¯å‘¨/æ¯æœˆï¼‰
- âœ… å–œæ¬¢ Orval çš„å‘å¸ƒæ–¹å¼

### ä½¿ç”¨ Changesets

é€‚åˆä»¥ä¸‹æƒ…å†µï¼š
- âœ… åŒ…éœ€è¦ç‹¬ç«‹ç‰ˆæœ¬ç®¡ç†
- âœ… å›¢é˜Ÿç†Ÿæ‚‰ changeset å·¥å…·
- âœ… éœ€è¦è‡ªåŠ¨åŒ– CHANGELOG
- âœ… å‘å¸ƒé¢‘ç‡é«˜ï¼ˆæ¯å¤©å¤šæ¬¡ï¼‰
- âœ… å¤šåŒ…ç‹¬ç«‹å¼€å‘å’Œå‘å¸ƒ

## ğŸ”„ å¦‚ä½•åˆ‡æ¢

### ä» Changesets åˆ‡æ¢åˆ° Release PR

```bash
# 1. æ¶ˆè´¹æ‰€æœ‰ç°æœ‰çš„ changesets
pnpm changeset version
pnpm changeset publish

# 2. åˆ é™¤ changesets é…ç½®ï¼ˆå¯é€‰ï¼‰
rm -rf .changeset

# 3. ä½¿ç”¨æ–°çš„å‘å¸ƒæµç¨‹
./scripts/create-release.sh
```

### ä» Release PR åˆ‡æ¢åˆ° Changesets

```bash
# 1. åˆå§‹åŒ– changesets
pnpm add -Dw @changesets/cli
pnpm changeset init

# 2. é…ç½® .changeset/config.json

# 3. ä½¿ç”¨ changeset æµç¨‹
pnpm changeset
pnpm changeset version
pnpm changeset publish
```

## ğŸ“ OrvalForge å½“å‰é…ç½®

**å½“å‰ä½¿ç”¨**: Release PR æ–¹å¼

**åŸå› **:
1. æ‰€æœ‰åŒ…ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œä¾¿äºç»´æŠ¤
2. å‘å¸ƒæµç¨‹æ¸…æ™°ï¼Œæ˜“äºç†è§£
3. ä¸ Orval ä¿æŒä¸€è‡´ï¼Œé™ä½å­¦ä¹ æˆæœ¬
4. é€‚åˆ monorepo ç»“æ„

**ä¿ç•™çš„ Changesets æ”¯æŒ**:
- æ–‡æ¡£å·²ä¿ç•™ï¼ˆPUBLISHING.mdï¼‰
- å¯éšæ—¶åˆ‡æ¢
- `.changeset/config.json` å·²é…ç½®

## ğŸš€ å®é™…ä½¿ç”¨å»ºè®®

### å¯¹äº OrvalForge é¡¹ç›®

**æ¨èä½¿ç”¨ Release PR**ï¼Œå› ä¸ºï¼š

```bash
# ç®€å•çš„ 3 æ­¥å‘å¸ƒ
./scripts/create-release.sh  # 1. åˆ›å»º release
# åˆ›å»º PR                     # 2. åœ¨ GitHub åˆ›å»º PR
# åˆå¹¶ PR                     # 3. åˆå¹¶å³å‘å¸ƒ
```

### å¯¹äºå…¶ä»–é¡¹ç›®

æ ¹æ®ä»¥ä¸‹å†³ç­–æ ‘é€‰æ‹©ï¼š

```
æ˜¯å¦éœ€è¦åŒ…ç‹¬ç«‹ç‰ˆæœ¬ï¼Ÿ
â”œâ”€ æ˜¯ â†’ ä½¿ç”¨ Changesets
â””â”€ å¦ â†’ æ˜¯å¦éœ€è¦é¢‘ç¹å‘å¸ƒï¼Ÿ
    â”œâ”€ æ˜¯ â†’ ä½¿ç”¨ Changesetsï¼ˆè‡ªåŠ¨åŒ–ä¼˜åŠ¿ï¼‰
    â””â”€ å¦ â†’ ä½¿ç”¨ Release PRï¼ˆç®€å•æ¸…æ™°ï¼‰
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

### Release PR æ–¹å¼
- [å¿«é€Ÿå‘å¸ƒæŒ‡å—](./RELEASE_GUIDE.md) - æ¨èä»è¿™é‡Œå¼€å§‹
- [è¯¦ç»†å‘å¸ƒæ–‡æ¡£](./PUBLISHING_ORVAL_STYLE.md)

### Changesets æ–¹å¼
- [å®Œæ•´å‘å¸ƒæŒ‡å—](./PUBLISHING.md)
- [å¿«é€Ÿå‘å¸ƒ](./QUICK_PUBLISH.md)

### é€šç”¨æ–‡æ¡£
- [é…ç½®è¯´æ˜](./NPM_PUBLISH_SETUP.md)

---

**æ€»ç»“**: OrvalForge æ¨èä½¿ç”¨ **Release PR** æ–¹å¼ï¼Œä½†ä¸¤ç§æ–¹å¼éƒ½å®Œå…¨æ”¯æŒã€‚é€‰æ‹©é€‚åˆä½ å›¢é˜Ÿçš„æ–¹å¼ï¼ğŸš€
