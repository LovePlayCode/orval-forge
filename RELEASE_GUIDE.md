# ğŸš€ OrvalForge å‘å¸ƒå¿«é€ŸæŒ‡å—

## ğŸ“ TL;DRï¼ˆå¿«é€Ÿå‘å¸ƒï¼‰

```bash
# 1. åˆ›å»º release
./scripts/create-release.sh

# 2. åœ¨ GitHub åˆ›å»º PR (release/vX.X.X â†’ main)

# 3. åˆå¹¶ PRï¼Œè‡ªåŠ¨å‘å¸ƒå®Œæˆï¼
```

## ğŸ“– è¯¦ç»†æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å‘å¸ƒ

ç¡®ä¿ä½ çš„ä»£ç å·²ç»å‡†å¤‡å¥½ï¼š

```bash
# è¿è¡Œæµ‹è¯•
pnpm test:run

# æ£€æŸ¥ä»£ç 
pnpm lint

# æ£€æŸ¥ç±»å‹
pnpm type-check

# æ„å»º
pnpm build

# å‘å¸ƒå‰æ£€æŸ¥
./scripts/check-publish.sh
```

### ç¬¬äºŒæ­¥ï¼šåˆ›å»º Release

è¿è¡Œè„šæœ¬åˆ›å»º release åˆ†æ”¯ï¼š

```bash
./scripts/create-release.sh
```

è„šæœ¬ä¼šé—®ä½ ï¼š
1. **é€‰æ‹©ç‰ˆæœ¬ç±»å‹**: patch (1.0.0â†’1.0.1) / minor (1.0.0â†’1.1.0) / major (1.0.0â†’2.0.0) / custom
2. **ç¡®è®¤ç‰ˆæœ¬å·**: æ˜¾ç¤ºå°†è¦å‘å¸ƒçš„ç‰ˆæœ¬
3. **æ˜¯å¦æ¨é€**: é€‰æ‹© `y` è‡ªåŠ¨æ¨é€åˆ° GitHub

ç¤ºä¾‹è¾“å‡ºï¼š
```
ğŸš€ OrvalForge Release Creator

ğŸ“¦ å½“å‰ç‰ˆæœ¬: 1.0.0

è¯·é€‰æ‹©ç‰ˆæœ¬ç±»å‹:
  1) patch  - ä¿®å¤ç‰ˆæœ¬ (ä¾‹å¦‚: 1.0.0 -> 1.0.1)
  2) minor  - æ¬¡ç‰ˆæœ¬ (ä¾‹å¦‚: 1.0.0 -> 1.1.0)
  3) major  - ä¸»ç‰ˆæœ¬ (ä¾‹å¦‚: 1.0.0 -> 2.0.0)
  4) custom - è‡ªå®šä¹‰ç‰ˆæœ¬å·

é€‰æ‹© (1-4): 2

âœ… ç‰ˆæœ¬å·²æ›´æ–°ä¸º: 1.1.0
ğŸŒ¿ åˆ›å»º release åˆ†æ”¯: release/v1.1.0
ğŸ’¾ æäº¤æ›´æ”¹...
æ˜¯å¦æ¨é€åˆ°è¿œç¨‹ä»“åº“? (y/n) y

âœ… Release åˆ†æ”¯å·²æ¨é€
```

### ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º Pull Request

å¦‚æœè„šæœ¬å·²è‡ªåŠ¨æ¨é€ï¼Œè®¿é—® GitHubï¼š

```
https://github.com/YOUR-ORG/orval-forge/compare/main...release/v1.1.0
```

åˆ›å»º PRï¼š
- **From**: `release/v1.1.0`
- **To**: `main`
- **Title**: `chore: release v1.1.0`

### ç¬¬å››æ­¥ï¼šReview & åˆå¹¶

1. Review ä»£ç å˜æ›´
2. æ£€æŸ¥ç‰ˆæœ¬å·æ˜¯å¦æ­£ç¡®
3. åˆå¹¶ PR

### ç¬¬äº”æ­¥ï¼šè‡ªåŠ¨å‘å¸ƒ

åˆå¹¶ PR åï¼ŒGitHub Actions ä¼šè‡ªåŠ¨ï¼š

1. âœ… æ„å»ºæ‰€æœ‰åŒ…
2. âœ… å‘å¸ƒåˆ° npm
3. âœ… åˆ›å»º git tag `v1.1.0`
4. âœ… åˆ›å»º GitHub Release

ä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹è¿›åº¦ï¼š
```
https://github.com/YOUR-ORG/orval-forge/actions
```

### ç¬¬å…­æ­¥ï¼šéªŒè¯å‘å¸ƒ

```bash
# æ£€æŸ¥åŒ…æ˜¯å¦å‘å¸ƒ
npm view orval-forge
npm view @orval-forge/core

# æ£€æŸ¥ç‰ˆæœ¬
npm view orval-forge version

# åœ¨æ–°é¡¹ç›®ä¸­æµ‹è¯•
mkdir test-project
cd test-project
npm init -y
npm install orval-forge
```

## ğŸ¯ ç‰ˆæœ¬é€‰æ‹©æŒ‡å—

| ç±»å‹ | åœºæ™¯ | ç¤ºä¾‹ |
|------|------|------|
| **patch** | Bug ä¿®å¤ã€æ–‡æ¡£æ›´æ–°ã€å°ä¼˜åŒ– | 1.0.0 â†’ 1.0.1 |
| **minor** | æ–°åŠŸèƒ½ã€å‘åå…¼å®¹çš„æ›´æ”¹ | 1.0.0 â†’ 1.1.0 |
| **major** | ç ´åæ€§æ›´æ”¹ã€API å˜æ›´ | 1.0.0 â†’ 2.0.0 |
| **custom** | Beta ç‰ˆæœ¬ã€ç‰¹æ®Šç‰ˆæœ¬ | 1.0.0-beta.1 |

## ğŸ”§ é¦–æ¬¡å‘å¸ƒè®¾ç½®

### 1. NPM Token

```bash
# ç™»å½• npm
npm login

# åˆ›å»º token
# è®¿é—®: https://www.npmjs.com/settings/YOUR_USERNAME/tokens
# åˆ›å»º "Automation" ç±»å‹

# åœ¨ GitHub æ·»åŠ  Secret
# Settings â†’ Secrets â†’ Actions â†’ New repository secret
# Name: NPM_TOKEN
# Value: <ä½ çš„ token>
```

### 2. æ›´æ–°ä»“åº“ä¿¡æ¯

ç¼–è¾‘æ‰€æœ‰ `package.json` ä¸­çš„ï¼š
```json
{
  "repository": {
    "url": "https://github.com/YOUR-ORG/orval-forge.git"
  }
}
```

## ğŸ“¦ å‘å¸ƒçš„åŒ…

æ¯æ¬¡å‘å¸ƒä¼šåŒæ—¶å‘å¸ƒ 6 ä¸ªåŒ…ï¼Œç‰ˆæœ¬å·ä¿æŒä¸€è‡´ï¼š

1. `@orval-forge/types`
2. `@orval-forge/core`
3. `@orval-forge/cli`
4. `@orval-forge/my-request`
5. `@orval-forge/my-mini-request`
6. `orval-forge`

## ğŸ†˜ é—®é¢˜æ’æŸ¥

### Release PR åˆå¹¶åæ²¡æœ‰è§¦å‘å‘å¸ƒï¼Ÿ

æ£€æŸ¥ï¼š
- [ ] åˆ†æ”¯åä»¥ `release/v` å¼€å¤´
- [ ] PR å·²æˆåŠŸåˆå¹¶ï¼ˆä¸æ˜¯å…³é—­ï¼‰
- [ ] GitHub Actions å·²å¯ç”¨
- [ ] NPM_TOKEN æ­£ç¡®è®¾ç½®

### å‘å¸ƒå¤±è´¥ï¼Ÿ

1. æŸ¥çœ‹ Actions æ—¥å¿—
2. å¸¸è§é—®é¢˜ï¼š
   - NPM token æ— æ•ˆ â†’ é‡æ–°åˆ›å»º token
   - åŒ…åå·²å­˜åœ¨ â†’ æ£€æŸ¥ç‰ˆæœ¬å·
   - ç½‘ç»œé—®é¢˜ â†’ é‡æ–°è¿è¡Œå·¥ä½œæµ

### å¦‚ä½•å‘å¸ƒ beta ç‰ˆæœ¬ï¼Ÿ

```bash
./scripts/create-release.sh
# é€‰æ‹© "4) custom"
# è¾“å…¥: 1.0.0-beta.1
```

## ğŸ“š å®Œæ•´æ–‡æ¡£

- [è¯¦ç»†å‘å¸ƒæŒ‡å—](./PUBLISHING_ORVAL_STYLE.md)
- [åŸ Changeset æ–¹å¼](./PUBLISHING.md)
- [é…ç½®è¯´æ˜](./NPM_PUBLISH_SETUP.md)

## âœ¨ å‘å¸ƒæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¼€å‘å®Œæˆ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿è¡Œå‘å¸ƒè„šæœ¬     â”‚ ./scripts/create-release.sh
â”‚ é€‰æ‹©ç‰ˆæœ¬ç±»å‹     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬     â”‚ æ‰€æœ‰ package.json
â”‚ æ›´æ–° CHANGELOG   â”‚
â”‚ åˆ›å»º release åˆ†æ”¯ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¨é€åˆ° GitHub    â”‚ release/vX.X.X
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ›å»º PR          â”‚ release/vX.X.X â†’ main
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Review & åˆå¹¶    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Actions   â”‚
â”‚ è‡ªåŠ¨è§¦å‘         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚              â”‚
         â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ„å»ºæ‰€æœ‰åŒ…   â”‚  â”‚ å‘å¸ƒåˆ° npm   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ åˆ›å»º git tag     â”‚
       â”‚ åˆ›å»º Release     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ ğŸ‰ å‘å¸ƒå®Œæˆï¼    â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**è®°ä½**: åªéœ€è¦ 3 æ­¥ â†’ è¿è¡Œè„šæœ¬ â†’ åˆ›å»º PR â†’ åˆå¹¶ PR â†’ å®Œæˆï¼ğŸš€
